<div class="h-full flex flex-col bg-gray-900 text-gray-300">
    <div class="flex-1 flex">
        <!-- Zone de l'image -->
        <div class="flex-1 p-4">
            <div class="w-full h-full flex flex-col">
                <!-- Barre d'outils -->
                <div class="bg-gray-800 p-4">
                    <h3 class="text-lg font-semibold mb-4">Outils</h3>
                    
                    <!-- Outils de base -->
                    <div class="space-y-4">
                        <div class="tool-group">
                            <h4 class="text-sm font-medium mb-2">Basique</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="tool-btn" data-tool="select">
                                    <i class="fas fa-mouse-pointer"></i>
                                    <span>Sélection</span>
                                </button>
                                <button class="tool-btn" data-tool="move">
                                    <i class="fas fa-arrows-alt"></i>
                                    <span>Déplacer</span>
                                </button>
                            </div>
                        </div>

                        <div class="tool-group">
                            <h4 class="text-sm font-medium mb-2">Dessin</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="tool-btn" data-tool="brush">
                                    <i class="fas fa-paint-brush"></i>
                                    <span>Pinceau</span>
                                </button>
                                <button class="tool-btn" data-tool="eraser">
                                    <i class="fas fa-eraser"></i>
                                    <span>Gomme</span>
                                </button>
                            </div>
                        </div>

                        <div class="tool-group">
                            <h4 class="text-sm font-medium mb-2">Formes</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="tool-btn" data-tool="rect">
                                    <i class="fas fa-square"></i>
                                    <span>Rectangle</span>
                                </button>
                                <button class="tool-btn" data-tool="circle">
                                    <i class="fas fa-circle"></i>
                                    <span>Cercle</span>
                                </button>
                            </div>
                        </div>

                        <div class="tool-group">
                            <h4 class="text-sm font-medium mb-2">Texte</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="tool-btn" data-tool="text">
                                    <i class="fas fa-font"></i>
                                    <span>Texte</span>
                                </button>
                            </div>
                        </div>

                        <div class="tool-group">
                            <h4 class="text-sm font-medium mb-2">Couleur et taille</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="flex flex-col">
                                    <label class="text-xs mb-1">Couleur</label>
                                    <input type="color" id="color-picker" class="w-full h-8">
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-xs mb-1">Taille</label>
                                    <input type="range" id="size-picker" min="1" max="50" value="5" class="w-full">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Conteneur du canvas -->
                <div class="flex-grow relative bg-gray-700">
                    <canvas id="canvas" class="absolute inset-0 w-full h-full" data-image-url="{{ image_url }}" data-save-url="{{ save_url }}"></canvas>
                </div>
            </div>
        </div>

        <!-- Barre d'état -->
        <div class="h-8 bg-gray-800 border-t border-gray-700 flex items-center px-4 text-sm">
            <div class="flex-1">
                <span id="status">Prêt</span>
            </div>
        </div>
    </div>

    <style>
        /* Styles pour les boutons d'outils */
        .tool-btn {
            @apply flex flex-col items-center justify-center p-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-gray-300;
        }
        
        .tool-btn i {
            @apply text-lg mb-1;
        }
        
        .tool-btn span {
            @apply text-xs;
        }
        
        .tool-btn.active {
            @apply bg-blue-600;
        }
        
        /* Styles pour les contrôles de couleur et de taille */
        input[type="color"] {
            @apply rounded border border-gray-600 bg-gray-700;
            -webkit-appearance: none;
        }
        
        input[type="color"]::-webkit-color-swatch-wrapper {
            padding: 0;
        }
        
        input[type="color"]::-webkit-color-swatch {
            border: none;
        }
        
        input[type="range"] {
            @apply rounded-lg overflow-hidden appearance-none bg-gray-700;
            height: 32px;
        }
        
        input[type="range"]::-webkit-slider-runnable-track {
            @apply bg-gray-700;
            height: 32px;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            @apply appearance-none w-4 h-8 bg-blue-500;
            border-radius: 3px;
        }
        
        input[type="range"]::-moz-range-track {
            @apply bg-gray-700;
            height: 32px;
        }
        
        input[type="range"]::-moz-range-thumb {
            @apply w-4 h-8 bg-blue-500 border-0;
            border-radius: 3px;
        }
    </style>
</div>